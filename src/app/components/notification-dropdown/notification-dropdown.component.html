<div class="notification-dropdown">
  <div class="notification-icon" (click)="toggleDropdown()">
    <i class="material-icons">notifications</i>
    <span class="notification-badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
  </div>
  
  <div class="notification-panel" *ngIf="isOpen">
    <div class="notification-header">
      <h6>Thông báo</h6>
      <button class="btn btn-sm btn-link" (click)="markAllAsRead()" *ngIf="unreadCount > 0">
        Đánh dấu đã đọc
      </button>
    </div>
    
    <div class="notification-list">
      <div *ngIf="(notifications$ | async)?.length === 0" class="no-notifications">
        <i class="material-icons">notifications_none</i>
        <p>Không có thông báo nào</p>
      </div>
      
      <div *ngFor="let notification of notifications$ | async" 
           class="notification-item"
           [class.unread]="!notification.isRead"
           (click)="markAsRead(notification.id)">
        <div class="notification-icon-small">
          <i class="material-icons" [class]="getNotificationColor(notification.type)">
            {{ getNotificationIcon(notification.type) }}
          </i>
        </div>
        <div class="notification-content">
          <div class="notification-title">{{ notification.title }}</div>
          <div class="notification-message">{{ notification.message }}</div>
          <div class="notification-time">{{ formatTime(notification.createdAt) }}</div>
        </div>
        <div class="notification-status" *ngIf="!notification.isRead">
          <div class="unread-dot"></div>
        </div>
      </div>
    </div>
    
    <div class="notification-footer">
      <a href="#" class="view-all">Xem tất cả thông báo</a>
    </div>
  </div>
</div> 